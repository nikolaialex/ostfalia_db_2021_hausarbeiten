# 1. Einleitung

Heutzutage muss fast jede Applikation Daten speichern oder auf Daten zugreifen, die irgendwo gespeichert sind. Für die Speicherung der Daten waren SQL-Datenbanken lange Zeit die Standardlösung. Mit der Zeit haben sich immer mehr Alternative entwickelt, zum Beispiel, NoSQL Datenbanken. In dieser Arbeit wird die NoSQL Datenbank Cloud Firestore vorgestellt.

## 1.1 NoSQL Datenbanken?

In der Vergangenheit waren SQL-Datenbanken der Standard. In SQL-Datenbanken werde Elemente in Tabelle gespeichert, die ein bestimmtes Schema haben. Es ist genau definiert welche Spalten jede Zeile haben muss und welche Datentypen in den Zellen gespeichert werden. Aus diesem Grund kann man in der Regel nur einen einzigen Objekttyp in einer Tabelle Speichern und bei jeder Änderung des Datenmodells, müssen alle alten Daten angepasst werden.
In einer NoSQL Datenbank, gibt es keine Einschränkung was die Datentypen angeht, die in dir Datenbank gespeichert werden können. Es gibt auch keine festen Schemata, wie in SQL-Datenbanken. In einer NoSQL-Datenbank gibt es verschiedene Möglichkeiten Daten zu speichern. Man kann Daten als Key-Value Paare, als eine verschachtelte Baum-Struktur, als JSON-Objekte oder als etwas anderes speichern. Daten, die in der SQL-Welt in unterschiedlichen Tabellen gespeichert wären, können alle zusammen in NoSQL Datenbanken gespeichert werden. In einer NoSQL Datenbank müssen nicht alle Einträge die gleichen Felder haben oder die gleiche Länge. Das gibt Entwicklern eine große Flexibilität, weil bei Änderungen nicht gleich alle alten Einträge angepasst werden müssen.


## 1.2 Firebase Cloud Firestore?

Firebase Cloud Firestore ist eine, in der Cloud gehostete, horizontal skalierbare NoSQL Datenbank . Sie wurde von Google entwickelt. Eine Cloud Firestore Datenbank besteht aus Dokumenten und Sammlungen von Dokumenten, die in einer Baumstruktur gespeichert sind. Dokumente ähneln JSON Objekte. Sie bestehen aus Key-Value Paare, die Felder genannt werden. In einer Cloud Firestore Datenbank kann man sehr unterschiedliche Datentypen speichern. Die Tabelle 1 zeigt eine Übersicht der Datentypen, die in Cloud Firestore verwendet werden können.



| Datentyp              | Sortierreihenfolge          | Anmerkungen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|:----------------------|:----------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Array                 | By element values           | An array cannot contain another array value as one of its elements.<br><br/> Within an array, elements maintain the position assigned to them. When sorting two or more arrays, arrays are ordered based on their element values.<br><br/> When comparing two arrays, the first elements of each array are compared. If the first elements are equal, then the second elements are compared and so on until a difference is found. If an array runs out of elements to compare but is equal up to that point, then the shorter array is ordered before the longer array.<br><br/> For example, [1, 2, 3] < [1, 2, 3, 1] < [2]. The array [2] has the greatest first element value. The array [1, 2, 3] has elements equal to the first three elements of [1, 2, 3, 1] but is shorter in length.                                                                                       |
| Boolean               | false < true                | 	  -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Bytes                 | Byte order                  | Up to 1,048,487 bytes (1 MiB - 89 bytes). Only the first 1,500 bytes are considered by queries.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Date and time         | Chronological               | When stored in Cloud Firestore, precise only to microseconds; any additional precision is rounded down.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 
| Floating-point number | Numeric                     | 64-bit double precision, IEEE 754.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Geographical point    | By latitude, then longitude | At this time, we do not recommend using this data type due to querying limitations. It is generally better to store latitude and longitude as separate numeric fields. If your app needs simple distance-based geoqueries, see Geo queries                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Integer               | Numeric                     | 64-bit, signed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Map                   | By keys, then by value      | Represents an object embedded within a document. When indexed, you can query on subfields. If you exclude this value from indexing, then all subfields are also excluded from indexing.<br/><br/> Key ordering is always sorted. For example, if you write {c: "foo", a: "bar", b: "qux"} the map is sorted by key and saved as {a: "bar", b: "qux", c: "foo"}.<br/><br/>Map fields are sorted by key and compared by key-value pairs, first comparing the keys and then the values. If the first key-value pairs are equal, the next key-value pairs are compared, and so on. If two maps start with the same key-value pairs, then map length is considered. For example, the following maps are in ascending order:<br/><br/>{a: "aaa", b: "baz"}<br/>{a: "foo", b: "bar"}<br/>{a: "foo", b: "bar", c: "qux"}<br/>{a: "foo", b: "baz"}<br/>{b: "aaa", c: "baz"}<br/>{c: "aaa"}<br/> |
| Null                  | None                        | -                                             |
| Reference             | By path elements (collection, document ID, collection, document ID...)      | For example, projects/[PROJECT_ID]/databases/[DATABASE_ID]/documents/[DOCUMENT_PATH].                                        |
| Text string           | UTF-8 encoded byte order            | Up to 1,048,487 bytes (1 MiB - 89 bytes). Only the first 1,500 bytes of the UTF-8 representation are considered by queries.  |

Tabelle 1: Cloud Firestore unterstützte Datentypen

<br>

Die Tabelle 1 zeigt auch die Sortierreihenfolge der Datentypen, die unterstützt werden. Es kommt aber vor, dass unterschiedliche Datentypen in Abfragen gemischt werden. In diesem Fall gilt die folgende Sortierreihenfolge:

1-  Null values\
2-  Boolean values\
3-  Integer and floating-point values, sorted in numerical order\
4-  Date values\
5-  Text string values\
6-  Byte values\
7-  Cloud Firestore references\
8-  Geographical point values\
9-  Array values\
10- Map values
